# ДЗ №5

## Django

**Перед началом обязательно форкнуть и склонировать к себе свой форк.** 

### Подготовка

Все то же что и всегда.

    git clone

затем открываем проект в pycharm, подключаем к venv и устанавливаем зависимости.

    pip install -r requirements.txt


Небоимся того что , что то может быть не понятным. Все подробно опишу на занятии.
Важно чтоб Вы попытались разобраться сами. Задание не сложное.    

### Смотрим на изменения

В pages я добавил context_processors.py
Он нужен для того чтобы объявить то что должно передаваться каждому шаблону.
В нем мы передаем Page.objects.all() и теперь не нужно это передавать в каждой views


### Создаем сайт каталог
в проекте есть уже созданый app products, необходимо его дописать

##### urls
Обратите внимания, что тут есть свой urls.py. 
Главный urls.py через include подключает его (посмотрите в django_third/urls.py).

##### views
views уже написаны за Вас. Ничего пока трогать не нужно. Попытайтесь разобраться за что
отвечает каждая из views. 

Тут ничего сложного. Это классовые views и они обычно удобнее, чем функции.
Обратите внимание что мы наследуемся от ListView и DetailView. Названия говорят сами за себя.
В них можно указать модель из которой нужно брать элемен, шаблон, и названия объекта в шаблоне.

Также в ProductListView я переопределил два метода. 
В get_queryset задается какой список продукции выведется
В get_context_data что еще передать в контекст шаблону(то есть какие переменые будут доступны в шаблоне )

##### models
Теперь заглянем в models.py. Тут уже определены две модели. Обратите внимание, что Product связан
с Catalog через поле catalog. То есть через это поле объект Product может обращаться к Каталогу,
на который он будет указывать.

В моделях необходимо дополнить полями Product и добавить к моделям class Meta и метод __str__.

Чтоб понять как связаны две эти модели, подключите и Product и Catalog к админке и добавьте несколько
каталогов и продуктов к ним.

не забудьте сделать и приминить миграции после изменения поля.
##### templates
В header.html я уже добавил ссылку на первую url с name='catalogs' для первой  вьюшки, 
то есть в header.html ничего менять не нужно.

В папке templates/products/ есть шаблоны. В них есть инструкции следуйте им.


### Пагинация
Теперь самое интересное попробуйте добавть пагинацию к ListView.
Задание очень важное. Вы должны развивать навык самостоятельно находить нужную
инфу и использовать ее для решения задачи.

у ListView уже все реализовано, нужно лишь указать внутри 

    paginate_by = 5


А как это вывести в шаблоне предлагаю загуглить или прочитать в документации:
https://djbook.ru/rel1.9/topics/pagination.html

### Пройти учебник из django документации

прошлый раз вы только прочили документацию. 
В этот раз нужно поэтапно сделать все так же какв документации

можно пройти из русскоязычного источника , можно из английского
**Достаточно пройти четыре части.**

#### русскоязычный
https://djbook.ru/rel1.9/intro/tutorial01.html

так как мы используем новую версию Django, то urls надо писать иначе чем описано в учебнике.

Вместо:
```python
    url(r'^$', views.index, name='index'),
    url(r'^(?P<question_id>[0-9]+)/$', views.detail, name='detail'),
```
Пишем:
```python
    path('', views.index, name='index''),
    path('<int:question_id>/', views.detail, name='detail'),
```

В остальном все так же пишем

#### англоязычный

https://docs.djangoproject.com/en/2.0/intro/tutorial01/


Аглоязычная версия актуальнее, но русскую удобно читать . Можно читать русскую и посматривать
изменения в английской.


### Доп. Задание: Найти онлайн тренажеры для развития внимания.

Поищете в гуглу. Попробуйте упражнения и на занятии расскажите о Вашем опыте
работы с сервисами, какой понравился и тп.